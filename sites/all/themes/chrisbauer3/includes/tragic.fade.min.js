/* Begin: TragicMedia.com - Tragic Fade
/* Version: 1.5
/* Updated: 12/13 by Rich Rudzinski
/*------------------------------------------*/
/*  Notes: For best results add init to the footer instead of the doc ready
    container: (str) unique selector of the fade container
    item: (str) class of the items to fade
    opacitySpeed: (num) how fast the item will fade in/out, the lower the number the slower the fade (milliseconds)
    intervalSpeed: (num) how often the items will change (milliseconds)
    pageDots: (bool | str) if true the script will create the page dots, or enter a unique selector of a container of <a> that you want to use as page dots
    fadeFirst: (bool) if true the active item will completely fade out before the next item fades in
    responsive: (bool) if true the script will re-initialize on window resize
    initFunct: (func) function that fires during the initialization process
    fadeInit: (func) function that fires pre-fade
*/
//  var constants = { container:'', item:'', opacitySpeed:#, intervalSpeed:#, pageDots:bool|'#container', fadeFirst:bool, responsive:bool, initFunc:function(){}, fadeInit:function(){} };
//  var fade = new tFade(constants);

function tFade(e){var t,n=this;this.animate=false;this.values=e;this.container=$(e.container);this.container.wrap('<div class="fade-wrap" />');this.frame=this.container[0].parentNode;this.frame.style.position="relative";this.hideFade();if(this.values.opacitySpeed==undefined)this.values.opacitySpeed=600;this.values.opacitySpeed=this.values.opacitySpeed;if(this.values.intervalSpeed==undefined)this.values.intervalSpeed=1e3;this.values.pageDots=e.pageDots==undefined?false:e.pageDots;if(this.values.fadeFirst==undefined)this.values.fadeFirst=false;if(this.values.responsive==undefined)this.values.responsive=false;this.values.firstLoad=true;this.fadeItems=$(this.values.container+" "+e.item);this.initFunct=e.initFunct==undefined?false:e.initFunct;this.fadeInit=e.fadeInit==undefined?false:e.fadeInit;if(this.fadeItems[0].tagName=="IMG"||this.fadeItems.find("img").length){if(this.fadeItems[0].tagName=="IMG")t=this.fadeItems[0];else t=$(this.fadeItems[0]).find("img")[0];if(t.complete||t.readyState===4){n.init()}else{$(t).load(function(){n.init()})}}else{this.init()}}tFade.prototype.hideFade=function(){this.frame.style.opacity=0};tFade.prototype.showFade=function(){$(this.frame).animate({opacity:1},1500)};tFade.prototype.init=function(){var e,t,n,r,i,s=this,o=window.innerWidth?window.innerWidth:document.body.offsetWidth,u=window.innerHeight?window.innerHeight:document.body.offsetHeight;if(this.values.responsive){r=function(){tempWidth=window.innerWidth?window.innerWidth:document.body.offsetWidth;tempHeight=window.innerHeight?window.innerHeight:document.body.offsetHeight;if(!s.animate&&(tempWidth!=o||tempHeight!=u)){if(s.fadeInterval)clearInterval(s.fadeInterval);o=window.innerWidth?window.innerWidth:document.body.offsetWidth,u=window.innerHeight?window.innerHeight:document.body.offsetHeight,s.hideFade();s.container[0].style.cssText="width:100%; height:auto; position:relative; overflow:hidden;";s.initFade()}else if(s.animate){if(t)clearTimeout(t);t=setTimeout(r,150)}};if(!window.addEventListener){window.attachEvent("onresize",function(){if(t)clearTimeout(t);t=setTimeout(r,150)})}else{window.addEventListener("resize",function(){if(t)clearTimeout(t);t=setTimeout(r,150)},false)}}if(this.values.firstLoad){this.orderItems();if(this.values.pageDots)this.makePageDots();if(this.initFunct)this.initFunct();this.values.firstLoad=false}this.initFade()};tFade.prototype.initFade=function(){var e,t=this.fadeItems.length,n=this;for(e=0;e<t;e++){this.fadeItems[e].setAttribute("data-num",e);this.fadeItems[e].style.cssText="width:"+this.fadeItems[0].offsetWidth+"px; height:"+this.fadeItems[0].offsetHeight+"px; overflow:hidden; position:absolute; top:"+this.container.css("padding-top")+"; left:0; opacity:0; z-index:"+(t-e)+"; filter:alpha(opacity="+0+")"}this.container[0].style.cssText="width:100%; height:auto; position:relative; overflow:hidden;";this.fadeItems[0].style.cssText="position:relative; opacity:1; filter:alpha(opacity="+100+")";this.showFade();if(this.fadeInterval)clearInterval(this.fadeInterval);this.fadeInterval=setInterval(function(){if(!n.animate)n.animateFade()},this.values.intervalSpeed)};tFade.prototype.orderItems=function(){var e,t;this.fadeItems.removeClass("active");for(e=0,t=this.fadeItems.length;e<t;e++){this.fadeItems[e].style.zIndex=t-e}this.fadeItems=$(this.values.container+" "+this.values.item);this.fadeItems[0].className=this.fadeItems[0].className!=""?this.fadeItems[0].className+" active":this.fadeItems[0].className+"active";this.curr=parseInt(this.fadeItems[0].getAttribute("data-num"))};tFade.prototype.animateFade=function(e){var t=this,n=t.fadeItems[0].parentNode,r;this.animate=true;if(e==undefined){e=1}else{for(r=1;r<this.fadeItems.length;r++){if(this.fadeItems[r].getAttribute("data-num")!=e){n.appendChild(this.fadeItems[r])}else{break}}e=r;this.fadeItems=$(this.values.container+" "+this.values.item);this.fadeItems[1].style.zIndex=this.fadeItems.length-1}if(this.fadeInit)this.fadeInit();if(this.values.pageDots)this.changePageDot();if(!this.values.fadeFirst){$(this.fadeItems[1]).animate({opacity:1},this.values.opacitySpeed)}$(this.fadeItems[0]).animate({opacity:0},this.values.opacitySpeed,function(){if(t.values.fadeFirst){$(t.fadeItems[1]).animate({opacity:1},t.values.opacitySpeed)}n.insertBefore(t.fadeItems[0],t.fadeItems[t.fadeItems.length-e].nextSibling);t.orderItems();t.animate=false})};tFade.prototype.makePageDots=function(){var e,t,n,r,i="",s=this,o=document.createElement("div");o.className="page-dots";if(typeof this.values.pageDots=="boolean"){this.frame.insertBefore(o,this.container[0].nextSibling);this.dotContainer=$(this.frame).find(".page-dots");this.frame.style.textAlign="center";for(e=0,t=this.fadeItems.length;e<t;e++){if(e==t)i=" img-dot-last";this.dotContainer.append('<a href="#" class="img-dot img-dot-'+e+i+'" data-num="'+e+'">'+(e+1)+"</a>")}this.dotLinks=this.dotContainer.find("a")}else{this.dotContainer=$(this.values.pageDots);this.dotLinks=this.dotContainer.find("a");for(e=0,t=this.dotLinks.length;e<t;e++){if(e==t)i=" img-dot-last";$(this.dotLinks[e]).addClass("img-dot img-dot-"+e+i);this.dotLinks[e].setAttribute("data-num",e)}}this.dotContainer[0].style.cssText="text-align:center; display:inline-block; position:relative; z-index:999;";$(this.dotLinks[0]).addClass("active");for(e=0,t=this.dotLinks.length;e<t;e++){this.dotLinks[e].style.cssText="float:left; margin-right:5px;";this.dotLinks[e].onclick=function(){clearInterval(s.fadeInterval);r=parseInt(this.getAttribute("data-num"));if(!s.animate&&r!=s.curr)s.animateFade(r);return false}}};tFade.prototype.changePageDot=function(){var e=parseInt(this.fadeItems[1].getAttribute("data-num"));this.dotLinks.removeClass("active");this.dotLinks[e].className=this.dotLinks[e].className!=""?this.dotLinks[e].className+" active":this.dotLinks[e].className+"active"}